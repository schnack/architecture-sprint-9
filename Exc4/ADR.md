### <a name="_b7urdng99y53"></a>**Название задачи: Передача ставок в кол-центр** 
### <a name="_hjk0fkfyohdk"></a>**Автор: Столяров Михали**
### <a name="_uanumrh8zrui"></a>**Дата:22.02.2025**
### <a name="_3bfxc9a45514"></a>**Функциональные требования**

| **№** | **Действующие лица или системы**                      | **Use Case**                                         | **Описание**                                                                                                                                                                                                                                                                                                                                                      |
|:-----:|:------------------------------------------------------|:-----------------------------------------------------|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|  UC1  | Кол-центр, АБС                                        | Предоставление доступа к ставкам системе кол-центра. | 1. Сотрудник бэк-офиса меняет ставки по депозитам.<br/>2. Система АБС публикует уведомление в kafka.<br/>3. Система кол-центра обновляет кэш со ставками по депозитам.                                                                                                                                                                                            |
|  UC2  | Партнерский кол-центр, АБС, email-server, sftp-server | Загрузка файлов ставок.                              | 1. Сотрудник бэк-офиса меняет ставки по депозитам.<br/>2. Система АБС экспортирует файл с новыми ставками на sftp сервер.<br/>3. Система АБС отправляет уведомление по email о загруженном новом файле.<br/>4. Сотрудники партнерского кол-центра загружают обновленный файл.<br/>5. Раз в сутки загрузка  файла в приложение кол-центра происходит автоматически |

### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**

| **№** | **Требование**                                                         |
|:-----:|:-----------------------------------------------------------------------|
|   R   | Надёжность (Reliability)                                               |
|  R1   | Все сервисы должны работать 24/7 и быть доступны в 99.99% случаев.     |
|  +R   | + Ограничения (Restricitions)                                          |
|  +R1  | Партнерский кол-центр имеет возможность загружать файлы только по sftp |

### <a name="_qmphm5d6rvi3"></a>**Решение**
Диаграмма контекста
![Диаграмма контекста](context.drawio.png)

Диаграмма контейнеров
![Диаграмма контейнеров](container.drawio.png)

Так как общие ставки по депозитам являются публичной информацией которая также размещается на сайте, то простого sftp сервера достаточно.

### <a name="_bjrr7veeh80c"></a>**Альтернативы**

1. Альтернативой может быть предоставления доступа к сайту банка где публикуются и обновляются текущий ставки по депозитам. Это позволит сэкономить на доработке сервисов по загрузке и выгрузке файлов.
2. Не использовать файловый сервер, а отправлять файл по email как раньше. Не вручную, а автоматически.

**Недостатки, ограничения, риски**

Технические:
1. При взломе sftp сервера злоумышленник может загрузить вредоносный файл или файл с неточной информацией.
2. Сотрудникам партнерского кол-центра необходимо отслеживать почту на наличие уведомления об изменении файла ставок.
3. Сложность интеграции АБС с кол-центром через kafka.

Бизнес:

1. Дополнительные расходы на дообучение сотрудников.
2. Из-за задержек обновления ставок в системах кол-центра, клиентам будут озвучены старые ставки. Может привести к потерям клиентов и репутации банка.

## Список задач


